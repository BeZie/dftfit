

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Training Sets &mdash; dftfit 0.3.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Potentials" href="potentials.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> dftfit
          

          
          </a>

          
            
            
              <div class="version">
                0.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="potentials.html">Potentials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Training Sets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#measured-properties">Measured Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ab-initio-training-sets">Ab-Initio Training Sets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#vasp">VASP</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quantum-espresso">Quantum Espresso</a></li>
<li class="toctree-l2"><a class="reference internal" href="#siesta">Siesta</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Improving Performance</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">dftfit</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Training Sets</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/training.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="training-sets">
<h1>Training Sets<a class="headerlink" href="#training-sets" title="Permalink to this headline">¶</a></h1>
<p>DFTFIT uses Ab-Inito calculation to guide the optimization of
potentials along with measured properties. The goal is to make it
easier for users to include vasp calculations in their potential
fitting. Thus DFTFIT has support for reading VASP <code class="docutils literal notranslate"><span class="pre">vasprun.xml</span></code>,
Quantum Espresso <code class="docutils literal notranslate"><span class="pre">*.out</span></code>, and Siesta <code class="docutils literal notranslate"><span class="pre">*.xml</span></code> output files. The
parsers will read as many sets that contain the structure, energy,
stress, and forces. These output files may be the result of a
relaxation, SCF, of BOMD, etc. calculation. If DFTFIT does not have
support for the output format that you supply please submit an <a class="reference external" href="https://gitlab.com/costrouc/dftfit/issues">issue</a>. Additionally measured
properties include: lattice_constants, elastic_constants,
bulk_modulus, and shear_modulus.</p>
<div class="section" id="measured-properties">
<h2>Measured Properties<a class="headerlink" href="#measured-properties" title="Permalink to this headline">¶</a></h2>
<p>Recently DFTFIT has added support for experimental properties and
other measured quantities. These include: lattice_constants,
elastic_constants, bulk_modulus, and shear_modulus. In order to use
one you must include a ground_state for an example see this input
<a class="reference external" href="https://gitlab.com/costrouc/dftfit/blob/master/test_files/training/training-mattoolkit-mgo-properties.yaml">training file</a>.</p>
<blockquote>
<div><ul class="simple">
<li>lattice constants (lengths)</li>
<li>elastic constants (voigt)</li>
<li>bulk modulus</li>
<li>shear modulus</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="ab-initio-training-sets">
<h2>Ab-Initio Training Sets<a class="headerlink" href="#ab-initio-training-sets" title="Permalink to this headline">¶</a></h2>
<p>Example of training sets include:</p>
<blockquote>
<div><ul class="simple">
<li>equilibrium structure</li>
<li>displaced structures <span class="math notranslate nohighlight">\(0.01 \unicode{x212B} - 0.04 \unicode{x212B}\)</span></li>
<li>deformed structures <span class="math notranslate nohighlight">\(\pm\%2\)</span> normal, <span class="math notranslate nohighlight">\(\pm\%8\)</span> shear</li>
<li>random perturbed structures <span class="math notranslate nohighlight">\(0.04 \unicode{x212B}\)</span></li>
</ul>
</div></blockquote>
<img alt="_images/mgo-training-sets-goal.png" src="_images/mgo-training-sets-goal.png" />
<p>Be aware the DFT calculations that change the unit cell result in less
accurate energy, stress, and forces. Thus an additional SCF
calculation <a class="reference external" href="https://cms.mpi.univie.ac.at/vasp/vasp/Accurate_bulk_relaxations_with_internal_parameters_one.html">will be necessary</a>.</p>
<p>In general a <code class="docutils literal notranslate"><span class="pre">selector</span></code> is used to get the input files.</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">selector.filename</span></code> select a specific output filename of <code class="docutils literal notranslate"><span class="pre">type</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">selector.fileglob</span></code> select a specific set of output files that match <a class="reference external" href="https://docs.python.org/3.7/library/glob.html#module-glob">glob</a> of <code class="docutils literal notranslate"><span class="pre">type</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">selector.num_samples</span></code> for each matching file choose num_samples with maximum separation</li>
</ul>
</div></blockquote>
<p>An example Siesta training set is included below.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Training</span>
<span class="nt">spec</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Siesta</span>
    <span class="nt">selector</span><span class="p">:</span>
      <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_files/siesta/d1_li_20ev.xml</span>
      <span class="nt">num_samples</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
  <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Siesta</span>
    <span class="nt">selector</span><span class="p">:</span>
      <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_files/siesta/d1_o_30ev.xml</span>
      <span class="nt">num_samples</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
  <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Siesta</span>
    <span class="nt">selector</span><span class="p">:</span>
      <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_files/siesta/d1_ta_20ev.xml</span>
      <span class="nt">num_samples</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
</pre></div>
</div>
</div>
<div class="section" id="vasp">
<h2>VASP<a class="headerlink" href="#vasp" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">spec</span><span class="p">:</span>
 <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">VASP</span>
   <span class="nt">selector</span><span class="p">:</span>
     <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_files/vasp/vasprun.xml.mgo</span>
</pre></div>
</div>
</div>
<div class="section" id="quantum-espresso">
<h2>Quantum Espresso<a class="headerlink" href="#quantum-espresso" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">spec</span><span class="p">:</span>
 <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">QE</span>
   <span class="nt">selector</span><span class="p">:</span>
     <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_files/espresso/...</span>
</pre></div>
</div>
</div>
<div class="section" id="siesta">
<h2>Siesta<a class="headerlink" href="#siesta" title="Permalink to this headline">¶</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">spec</span><span class="p">:</span>
 <span class="p p-Indicator">-</span> <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Siesta</span>
   <span class="nt">selector</span><span class="p">:</span>
     <span class="nt">filename</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">test_files/siesta/d1_o_30ev.xml</span>
     <span class="nt">num_samples</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="potentials.html" class="btn btn-neutral float-left" title="Potentials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 1970, Chris Ostrouchov

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>